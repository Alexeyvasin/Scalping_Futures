[2025-02-21 01:10:39,511] [ERROR] Error in stream processing: <class 'tinkoff.invest.exceptions.AioRequestError'> (<StatusCode.UNAVAILABLE: (14, 'unavailable')>, 'IOCP/Socket: Connection aborted (An established connection was aborted by the software in your host machine.\r\n -- 10053)', Metadata(tracking_id=None, ratelimit_limit='100, 100;w=60', ratelimit_remaining=99, ratelimit_reset=15, message=None))
[2025-02-21 01:10:39,552] [INFO] Will retry after 60 seconds...
[2025-02-21 07:48:42,067] [ERROR] Error in stream processing: <class 'tinkoff.invest.exceptions.AioRequestError'> (<StatusCode.UNAVAILABLE: (14, 'unavailable')>, 'DNS resolution failed for invest-public-api.tinkoff.ru: UNAVAILABLE: getaddrinfo: WSA Error (No such host is known.\r\n -- 11001)', None)
[2025-02-21 07:48:42,068] [INFO] Will retry after 60 seconds...
[2025-02-21 10:20:57,700] [INFO] [start] It`s starting...
[2025-02-21 10:20:57,700] [INFO] -----------------------------
[2025-02-21 10:20:58,326] [INFO] [get_data] Last operation Operation(id='2041006194642479086', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-371, nano=-580000000), price=MoneyValue(currency='pt.', units=4, nano=109000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 20, 15, 35, 20, 686035, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006194641887254', date_time=datetime.datetime(2025, 2, 20, 15, 35, 20, 686035, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=109000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-90000000))])
[2025-02-21 10:20:58,326] [INFO] [get_data]. Price of last operation: 4.10900000
[2025-02-21 10:20:58,327] [INFO] [futures_quantity] 0
[2025-02-21 10:20:58,327] [INFO] [orders_prices] ()
[2025-02-21 10:36:40,470] [INFO] [rsi_subscriber]  Trying to SELL. quantity= 1.
[2025-02-21 10:36:40,914] [INFO] [events_orders] order 7383e553-3dfd-4d30-bc7b-40133e5708b0 HAPPENED!
[2025-02-21 10:36:40,914] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='9c2d24e4-707c-446a-8fbc-0c791a09f358', order_request_id='7383e553-3dfd-4d30-bc7b-40133e5708b0', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=336000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=383, nano=780000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 10:36:41,007] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='7383e553-3dfd-4d30-bc7b-40133e5708b0', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='9c2d24e4-707c-446a-8fbc-0c791a09f358')
[2025-02-21 10:36:44,647] [INFO] [get_data] Last operation Operation(id='2041006198937038095', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=385, nano=20000000), price=MoneyValue(currency='pt.', units=4, nano=350000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 7, 36, 40, 886003, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006198936841106', date_time=datetime.datetime(2025, 2, 21, 7, 36, 40, 886003, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=350000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 10:36:44,649] [INFO] [get_data]. Price of last operation: 4.35000000
[2025-02-21 10:36:44,649] [INFO] [futures_quantity] -1
[2025-02-21 10:36:44,649] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=350000000),)
[2025-02-21 10:36:46,305] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='89e4c6ea-c681-4a45-890c-3d7eeee87593', order_request_id='', response_metadata=ResponseMetadata(tracking_id='16a75b9bf3ab76f452e69372d6dd298d', server_time=datetime.datetime(2025, 2, 21, 7, 36, 46, 267716, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='01a7da18-7c4e-4fb3-adf7-17dc5a2036a4', order_request_id='', response_metadata=ResponseMetadata(tracking_id='e8b6e5b7064acb0f987b89a3a0d7336f', server_time=datetime.datetime(2025, 2, 21, 7, 36, 46, 215437, tzinfo=datetime.timezone.utc))))
[2025-02-21 10:52:04,797] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 10:52:04,799] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='89e4c6ea-c681-4a45-890c-3d7eeee87593', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=336000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=383, nano=780000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 10:52:08,543] [INFO] [get_data] Last operation Operation(id='2041006198937038095', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=385, nano=20000000), price=MoneyValue(currency='pt.', units=4, nano=350000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 7, 36, 40, 886003, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006198936841106', date_time=datetime.datetime(2025, 2, 21, 7, 36, 40, 886003, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=350000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 10:52:08,543] [INFO] [get_data]. Price of last operation: 4.35000000
[2025-02-21 10:52:08,543] [INFO] [futures_quantity] 0
[2025-02-21 10:52:08,543] [INFO] [orders_prices] ()
[2025-02-21 10:53:21,697] [INFO] [events_orders] order 314a7ecd-f920-463a-ab73-35fe371c2ddb HAPPENED!
[2025-02-21 10:53:21,698] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='fb18514a-9610-4c79-b4c3-982fe671a180', order_request_id='314a7ecd-f920-463a-ab73-35fe371c2ddb', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=320000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=382, nano=360000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 10:53:21,814] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='314a7ecd-f920-463a-ab73-35fe371c2ddb', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='fb18514a-9610-4c79-b4c3-982fe671a180')
[2025-02-21 10:53:25,612] [INFO] [get_data] Last operation Operation(id='2041006198937043309', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-383, nano=-690000000), price=MoneyValue(currency='pt.', units=4, nano=335000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 7, 52, 4, 733763, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936841538', date_time=datetime.datetime(2025, 2, 21, 7, 52, 4, 733763, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=335000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 10:53:25,612] [INFO] [get_data]. Price of last operation: 4.33500000
[2025-02-21 10:53:25,612] [INFO] [futures_quantity] -1
[2025-02-21 10:53:25,612] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=335000000),)
[2025-02-21 10:53:27,152] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='a3016b4a-90a0-43b8-87e9-68fa10111b59', order_request_id='', response_metadata=ResponseMetadata(tracking_id='359e4ffb3955cb6a271c6e6520ac5c1c', server_time=datetime.datetime(2025, 2, 21, 7, 53, 27, 111448, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='add90b4c-2271-4fc5-9011-31e21438713a', order_request_id='', response_metadata=ResponseMetadata(tracking_id='824abd215996e507bbbda5a6c10131fe', server_time=datetime.datetime(2025, 2, 21, 7, 53, 27, 42108, tzinfo=datetime.timezone.utc))))
[2025-02-21 10:54:57,037] [INFO] It`S NEED TO CLOSE POSITIONS! RSI = 19.103332111061277
[2025-02-21 10:54:57,037] [INFO] [open_position_with_stops] cannot be executed. differ is too little: 0.09227220299883644
[2025-02-21 11:33:54,364] [INFO] It`S NEED TO CLOSE POSITIONS! RSI = 19.937558959538933
[2025-02-21 11:33:54,873] [INFO] [events_orders] order 68245687-8645-40d1-8373-51047dcd440f HAPPENED!
[2025-02-21 11:33:54,874] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='a4a74548-1ba7-4169-9c03-c9b11ba6a04b', order_request_id='68245687-8645-40d1-8373-51047dcd440f', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=342000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=384, nano=310000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 11:33:54,956] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='68245687-8645-40d1-8373-51047dcd440f', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='a4a74548-1ba7-4169-9c03-c9b11ba6a04b')
[2025-02-21 11:33:58,781] [INFO] [get_data] Last operation Operation(id='2041006198937054125', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-383, nano=-160000000), price=MoneyValue(currency='pt.', units=4, nano=329000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 8, 33, 54, 823521, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936842249', date_time=datetime.datetime(2025, 2, 21, 8, 33, 54, 823521, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=329000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 11:33:58,781] [INFO] [get_data]. Price of last operation: 4.32900000
[2025-02-21 11:33:58,781] [INFO] [futures_quantity] 0
[2025-02-21 11:33:58,781] [INFO] [orders_prices] ()
[2025-02-21 11:33:59,959] [INFO] [bot.futures_quantity] = 0. stops not applied
[2025-02-21 11:35:59,966] [INFO] [rsi_subscriber]  Trying to BUY. quantity= 1.
[2025-02-21 11:36:00,454] [INFO] [events_orders] order 4c5c70e1-26bf-49b7-8b1a-b65b09922c96 HAPPENED!
[2025-02-21 11:36:00,454] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='39b7085f-c34c-4748-9213-7bcaacade7cb', order_request_id='4c5c70e1-26bf-49b7-8b1a-b65b09922c96', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=336000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=383, nano=780000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 11:36:00,516] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='4c5c70e1-26bf-49b7-8b1a-b65b09922c96', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='39b7085f-c34c-4748-9213-7bcaacade7cb')
[2025-02-21 11:36:04,147] [INFO] [get_data] Last operation Operation(id='2041006198937054774', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-382, nano=-630000000), price=MoneyValue(currency='pt.', units=4, nano=323000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 8, 36, 0, 383567, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936842288', date_time=datetime.datetime(2025, 2, 21, 8, 36, 0, 383567, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=323000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[])
[2025-02-21 11:36:04,149] [INFO] [get_data]. Price of last operation: 4.32300000
[2025-02-21 11:36:04,149] [INFO] [futures_quantity] 1
[2025-02-21 11:36:04,150] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=323000000),)
[2025-02-21 11:36:05,777] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='fe01cffa-8954-4672-bd0c-4b3a746a3f1d', order_request_id='', response_metadata=ResponseMetadata(tracking_id='c1d3a944ba22ef42168ca470d2ece965', server_time=datetime.datetime(2025, 2, 21, 8, 36, 5, 733793, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='55c75415-949e-487a-856c-ef75f574f5e9', order_request_id='', response_metadata=ResponseMetadata(tracking_id='c2c0ae557902546e0e7a1bb0a45945f4', server_time=datetime.datetime(2025, 2, 21, 8, 36, 5, 694305, tzinfo=datetime.timezone.utc))))
[2025-02-21 11:51:54,599] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 11:51:54,602] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='55c75415-949e-487a-856c-ef75f574f5e9', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=297000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=380, nano=330000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 11:51:58,363] [INFO] [get_data] Last operation Operation(id='2041006198937058645', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=381, nano=570000000), price=MoneyValue(currency='pt.', units=4, nano=311000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 8, 51, 54, 540029, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006198936842638', date_time=datetime.datetime(2025, 2, 21, 8, 51, 54, 540029, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=311000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 11:51:58,364] [INFO] [get_data]. Price of last operation: 4.31100000
[2025-02-21 11:51:58,366] [INFO] [futures_quantity] 0
[2025-02-21 11:51:58,366] [INFO] [orders_prices] ()
[2025-02-21 12:41:02,312] [INFO] [events_orders] order 25bf6831-9779-41dc-a0ec-5d73a4c2fcfb HAPPENED!
[2025-02-21 12:41:02,313] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='1e79373e-c661-423d-b3af-5e609944c96c', order_request_id='25bf6831-9779-41dc-a0ec-5d73a4c2fcfb', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=309000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=381, nano=390000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 12:41:02,375] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='25bf6831-9779-41dc-a0ec-5d73a4c2fcfb', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='1e79373e-c661-423d-b3af-5e609944c96c')
[2025-02-21 12:41:06,004] [INFO] [get_data] Last operation Operation(id='2041006198937071296', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=382, nano=450000000), price=MoneyValue(currency='pt.', units=4, nano=321000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 9, 41, 2, 260274, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006198936843536', date_time=datetime.datetime(2025, 2, 21, 9, 41, 2, 260274, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=321000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 12:41:06,005] [INFO] [get_data]. Price of last operation: 4.32100000
[2025-02-21 12:41:06,005] [INFO] [futures_quantity] -1
[2025-02-21 12:41:06,005] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=321000000),)
[2025-02-21 12:41:08,819] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='07f25b8a-299d-4e70-b8fd-0175687d8b25', order_request_id='', response_metadata=ResponseMetadata(tracking_id='9df552590bb20f0dec533fb7ff50605f', server_time=datetime.datetime(2025, 2, 21, 9, 41, 8, 707165, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='d0e78694-a0cd-4790-ad5d-53278237b5f3', order_request_id='', response_metadata=ResponseMetadata(tracking_id='737abca76bf265b9c09724bf238785c8', server_time=datetime.datetime(2025, 2, 21, 9, 41, 8, 758500, tzinfo=datetime.timezone.utc))))
[2025-02-21 12:43:08,826] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 12:43:08,826] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 12:43:08,826] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 12:51:01,713] [INFO] It`S NEED TO CLOSE POSITIONS! RSI = 17.79259747824024
[2025-02-21 12:51:01,713] [INFO] [open_position_with_stops] cannot be executed. differ is too little: 0.18514232816477685
[2025-02-21 12:51:01,857] [INFO] It`S NEED TO CLOSE POSITIONS! RSI = 15.503194827550928
[2025-02-21 12:51:02,277] [INFO] [events_orders] order 0e5c18e2-49f6-4e3d-964e-9e0da88fd318 HAPPENED!
[2025-02-21 12:51:02,277] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='f6dad2a7-be20-4aea-aa03-21b8367a6c1a', order_request_id='0e5c18e2-49f6-4e3d-964e-9e0da88fd318', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=323000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=382, nano=630000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 12:51:02,386] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='0e5c18e2-49f6-4e3d-964e-9e0da88fd318', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='f6dad2a7-be20-4aea-aa03-21b8367a6c1a')
[2025-02-21 12:51:06,208] [INFO] [get_data] Last operation Operation(id='2041006198937072959', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-381, nano=-390000000), price=MoneyValue(currency='pt.', units=4, nano=309000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 9, 51, 2, 242457, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936843645', date_time=datetime.datetime(2025, 2, 21, 9, 51, 2, 242457, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=309000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 12:51:06,208] [INFO] [get_data]. Price of last operation: 4.30900000
[2025-02-21 12:51:06,209] [INFO] [futures_quantity] 0
[2025-02-21 12:51:06,209] [INFO] [orders_prices] ()
[2025-02-21 12:51:07,401] [INFO] [bot.futures_quantity] = 0. stops not applied
[2025-02-21 12:53:18,407] [INFO] [rsi_subscriber]  Trying to BUY. quantity= 1.
[2025-02-21 12:53:18,743] [INFO] [events_orders] order 4e14301c-c879-45ba-b3f7-0a17e7831629 HAPPENED!
[2025-02-21 12:53:18,743] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='438c6848-c293-4666-bc50-de6433b52f45', order_request_id='4e14301c-c879-45ba-b3f7-0a17e7831629', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=323000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=382, nano=630000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 12:53:18,840] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='4e14301c-c879-45ba-b3f7-0a17e7831629', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='438c6848-c293-4666-bc50-de6433b52f45')
[2025-02-21 12:53:22,662] [INFO] [get_data] Last operation Operation(id='2041006198937073714', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-381, nano=-480000000), price=MoneyValue(currency='pt.', units=4, nano=310000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 9, 53, 18, 735287, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936843678', date_time=datetime.datetime(2025, 2, 21, 9, 53, 18, 735287, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=310000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[])
[2025-02-21 12:53:22,662] [INFO] [get_data]. Price of last operation: 4.31000000
[2025-02-21 12:53:22,662] [INFO] [futures_quantity] 1
[2025-02-21 12:53:22,662] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=310000000),)
[2025-02-21 12:53:24,222] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='36e39998-c54d-4cb2-9480-70658d8d1011', order_request_id='', response_metadata=ResponseMetadata(tracking_id='a83bd2c132f4cbda206b14bed3b4a2d3', server_time=datetime.datetime(2025, 2, 21, 9, 53, 24, 179084, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='8e5cf54d-4098-448c-b89e-e56ae57fcd68', order_request_id='', response_metadata=ResponseMetadata(tracking_id='166885bfb0119367eed504351c1d8503', server_time=datetime.datetime(2025, 2, 21, 9, 53, 24, 123252, tzinfo=datetime.timezone.utc))))
[2025-02-21 13:00:01,764] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 13:00:01,765] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='8e5cf54d-4098-448c-b89e-e56ae57fcd68', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=284000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=379, nano=180000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 13:00:05,648] [INFO] [get_data] Last operation Operation(id='2041006198937074978', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=380, nano=150000000), price=MoneyValue(currency='pt.', units=4, nano=295000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 10, 0, 1, 717420, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006198936843850', date_time=datetime.datetime(2025, 2, 21, 10, 0, 1, 717420, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=295000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[])
[2025-02-21 13:00:05,648] [INFO] [get_data]. Price of last operation: 4.29500000
[2025-02-21 13:00:05,649] [INFO] [futures_quantity] 0
[2025-02-21 13:00:05,649] [INFO] [orders_prices] ()
[2025-02-21 13:00:11,076] [INFO] [rsi_subscriber]  Trying to BUY. quantity= 1.
[2025-02-21 13:00:14,243] [INFO] [events_orders] order 6dc9ec0d-67e3-41f1-9a19-33e3262d915c HAPPENED!
[2025-02-21 13:00:14,244] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='504a25f2-053b-4f4c-b073-269fd3dc58ee', order_request_id='6dc9ec0d-67e3-41f1-9a19-33e3262d915c', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=311000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=381, nano=570000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 13:00:14,245] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='6dc9ec0d-67e3-41f1-9a19-33e3262d915c', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='504a25f2-053b-4f4c-b073-269fd3dc58ee')
[2025-02-21 13:00:18,354] [INFO] [get_data] Last operation Operation(id='2041006198937075149', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-380, nano=-420000000), price=MoneyValue(currency='pt.', units=4, nano=298000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 10, 0, 14, 27566, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936843876', date_time=datetime.datetime(2025, 2, 21, 10, 0, 14, 27566, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=298000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[])
[2025-02-21 13:00:18,354] [INFO] [get_data]. Price of last operation: 4.29800000
[2025-02-21 13:00:18,354] [INFO] [futures_quantity] 1
[2025-02-21 13:00:18,355] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=298000000),)
[2025-02-21 13:00:19,546] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='64307665-6ffb-4baf-9c60-d4c572b2ad1b', order_request_id='', response_metadata=ResponseMetadata(tracking_id='0f4166a40051641365a32fd1702f2f5a', server_time=datetime.datetime(2025, 2, 21, 10, 0, 19, 462165, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='5c4fdb9a-8581-4412-be80-a96d24131518', order_request_id='', response_metadata=ResponseMetadata(tracking_id='7e9dc45edbbd7bb5debd52530547aac6', server_time=datetime.datetime(2025, 2, 21, 10, 0, 19, 524014, tzinfo=datetime.timezone.utc))))
[2025-02-21 13:22:25,818] [INFO] [open_position_with_stops] cannot be executed. differ is too little: 0.1861330851558866
[2025-02-21 13:22:25,903] [INFO] [open_position_with_stops] cannot be executed. differ is too little: 0.1861330851558866
[2025-02-21 13:22:40,807] [INFO] [open_position_with_stops] cannot be executed. differ is too little: 0.1861330851558866
[2025-02-21 13:23:06,458] [INFO] [open_position_with_stops] cannot be executed. differ is too little: 0.1861330851558866
[2025-02-21 13:23:13,385] [INFO] [open_position_with_stops] cannot be executed. differ is too little: 0.16286644951139304
[2025-02-21 13:27:18,039] [ERROR] Error in stream processing: <class 'tinkoff.invest.exceptions.AioRequestError'> (<StatusCode.CANCELLED: (1, 'cancelled')>, 'Received RST_STREAM with error code 8', Metadata(tracking_id=None, ratelimit_limit='600, 600;w=60', ratelimit_remaining=598, ratelimit_reset=2, message=None))
[2025-02-21 13:27:18,040] [INFO] Will retry after 1 seconds...
[2025-02-21 13:29:07,874] [INFO] It`S NEED TO CLOSE POSITIONS! RSI = 80.33404217009542
[2025-02-21 13:29:08,288] [INFO] [events_orders] order 9537c954-6087-4815-9c05-c678e0b4b17e HAPPENED!
[2025-02-21 13:29:08,290] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='acd73af9-e10a-4e3f-bc11-a497920bc242', order_request_id='9537c954-6087-4815-9c05-c678e0b4b17e', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=303000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=380, nano=860000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 13:29:08,310] [INFO] [events_orders] order 9537c954-6087-4815-9c05-c678e0b4b17e HAPPENED!
[2025-02-21 13:29:08,310] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='acd73af9-e10a-4e3f-bc11-a497920bc242', order_request_id='9537c954-6087-4815-9c05-c678e0b4b17e', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=303000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=380, nano=860000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 13:29:08,388] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='9537c954-6087-4815-9c05-c678e0b4b17e', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='acd73af9-e10a-4e3f-bc11-a497920bc242')
[2025-02-21 13:29:12,043] [INFO] [get_data] Last operation Operation(id='2041006198937083314', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=382, nano=10000000), price=MoneyValue(currency='pt.', units=4, nano=316000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 10, 29, 8, 285019, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006198936844534', date_time=datetime.datetime(2025, 2, 21, 10, 29, 8, 285019, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=316000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 13:29:12,046] [INFO] [get_data]. Price of last operation: 4.31600000
[2025-02-21 13:29:12,046] [INFO] [futures_quantity] 0
[2025-02-21 13:29:12,046] [INFO] [orders_prices] ()
[2025-02-21 13:29:13,392] [INFO] [bot.futures_quantity] = 0. stops not applied
[2025-02-21 13:49:10,859] [INFO] [events_orders] order 9eb5eb44-8c1b-4b89-900c-99aee5179010 HAPPENED!
[2025-02-21 13:49:10,863] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='5240b416-b789-4b37-8cc9-02321890b4bc', order_request_id='9eb5eb44-8c1b-4b89-900c-99aee5179010', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=288000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=379, nano=530000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 13:49:10,880] [INFO] [events_orders] order 9eb5eb44-8c1b-4b89-900c-99aee5179010 HAPPENED!
[2025-02-21 13:49:10,881] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='5240b416-b789-4b37-8cc9-02321890b4bc', order_request_id='9eb5eb44-8c1b-4b89-900c-99aee5179010', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=288000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=379, nano=530000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 13:49:11,316] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='9eb5eb44-8c1b-4b89-900c-99aee5179010', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='5240b416-b789-4b37-8cc9-02321890b4bc')
[2025-02-21 13:49:15,284] [INFO] [get_data] Last operation Operation(id='2041006198937091387', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=380, nano=680000000), price=MoneyValue(currency='pt.', units=4, nano=301000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 10, 49, 10, 585940, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006198936844998', date_time=datetime.datetime(2025, 2, 21, 10, 49, 10, 585940, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=301000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 13:49:15,284] [INFO] [get_data]. Price of last operation: 4.30100000
[2025-02-21 13:49:15,284] [INFO] [futures_quantity] -1
[2025-02-21 13:49:15,284] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=301000000),)
[2025-02-21 13:49:16,673] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='770f9199-095e-46f2-9a88-8c27a1145dcd', order_request_id='', response_metadata=ResponseMetadata(tracking_id='e7df2f5a7986068241aa70d875a9ab8b', server_time=datetime.datetime(2025, 2, 21, 10, 49, 16, 562937, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='98870d23-75f1-4850-9831-0bb1454fb64e', order_request_id='', response_metadata=ResponseMetadata(tracking_id='9186d44d2c94b572bd90a60c3117068a', server_time=datetime.datetime(2025, 2, 21, 10, 49, 16, 644567, tzinfo=datetime.timezone.utc))))
[2025-02-21 13:51:16,673] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 13:51:16,673] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 13:51:16,673] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 13:51:16,673] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 13:51:16,673] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 13:51:16,673] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 13:51:16,674] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 13:51:16,674] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 13:51:16,674] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 13:51:16,674] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 13:54:40,563] [INFO] It`S NEED TO CLOSE POSITIONS! RSI = 19.947672218271762
[2025-02-21 13:54:40,984] [INFO] [events_orders] order ec6e0229-e2b2-460e-9498-2492fe4e7d4e HAPPENED!
[2025-02-21 13:54:40,984] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='3e66bd11-4c6a-4d1f-90b8-c3a7f1a91fd9', order_request_id='ec6e0229-e2b2-460e-9498-2492fe4e7d4e', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=308000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=381, nano=300000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 13:54:41,022] [INFO] [events_orders] order ec6e0229-e2b2-460e-9498-2492fe4e7d4e HAPPENED!
[2025-02-21 13:54:41,022] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='3e66bd11-4c6a-4d1f-90b8-c3a7f1a91fd9', order_request_id='ec6e0229-e2b2-460e-9498-2492fe4e7d4e', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=308000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=381, nano=300000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 13:54:41,058] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='ec6e0229-e2b2-460e-9498-2492fe4e7d4e', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='3e66bd11-4c6a-4d1f-90b8-c3a7f1a91fd9')
[2025-02-21 13:54:44,916] [INFO] [get_data] Last operation Operation(id='2041006198937093830', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-380, nano=-150000000), price=MoneyValue(currency='pt.', units=4, nano=295000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 10, 54, 40, 949984, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936845261', date_time=datetime.datetime(2025, 2, 21, 10, 54, 40, 949984, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=295000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 13:54:44,916] [INFO] [get_data]. Price of last operation: 4.29500000
[2025-02-21 13:54:44,917] [INFO] [futures_quantity] 0
[2025-02-21 13:54:44,917] [INFO] [orders_prices] ()
[2025-02-21 13:54:46,051] [INFO] [bot.futures_quantity] = 0. stops not applied
[2025-02-21 14:55:22,275] [INFO] [events_orders] order 51051776-1c6a-4b3c-895a-10786fd96e9e HAPPENED!
[2025-02-21 14:55:22,277] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='3fe7e39b-f888-458b-822a-23f7ba27a33f', order_request_id='51051776-1c6a-4b3c-895a-10786fd96e9e', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=269000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=377, nano=850000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 14:55:22,309] [INFO] [events_orders] order 51051776-1c6a-4b3c-895a-10786fd96e9e HAPPENED!
[2025-02-21 14:55:22,309] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='3fe7e39b-f888-458b-822a-23f7ba27a33f', order_request_id='51051776-1c6a-4b3c-895a-10786fd96e9e', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=269000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=377, nano=850000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 14:55:22,383] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='51051776-1c6a-4b3c-895a-10786fd96e9e', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='3fe7e39b-f888-458b-822a-23f7ba27a33f')
[2025-02-21 14:55:25,947] [INFO] [get_data] Last operation Operation(id='2041006198937093830', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-380, nano=-150000000), price=MoneyValue(currency='pt.', units=4, nano=295000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 10, 54, 40, 949984, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936845261', date_time=datetime.datetime(2025, 2, 21, 10, 54, 40, 949984, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=295000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 14:55:25,947] [INFO] [get_data]. Price of last operation: 4.29500000
[2025-02-21 14:55:25,948] [INFO] [futures_quantity] -1
[2025-02-21 14:55:25,948] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=295000000),)
[2025-02-21 14:55:27,822] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='a7fd01d9-7a2e-44af-97f0-4679aa3c8b00', order_request_id='', response_metadata=ResponseMetadata(tracking_id='404beb4dfca73d6f1d4494f52e050d59', server_time=datetime.datetime(2025, 2, 21, 11, 55, 27, 717150, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='289aac24-3e14-4dcd-8536-14f750db1037', order_request_id='', response_metadata=ResponseMetadata(tracking_id='098372a78d237b75fb7b69939246e7cc', server_time=datetime.datetime(2025, 2, 21, 11, 55, 27, 755773, tzinfo=datetime.timezone.utc))))
[2025-02-21 14:57:27,832] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 14:58:14,988] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 14:58:14,988] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='a7fd01d9-7a2e-44af-97f0-4679aa3c8b00', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=280000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=378, nano=820000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 14:58:15,022] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 14:58:15,023] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='a7fd01d9-7a2e-44af-97f0-4679aa3c8b00', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=280000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=378, nano=820000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 14:58:19,198] [INFO] [get_data] Last operation Operation(id='2041006198937110908', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-378, nano=-650000000), price=MoneyValue(currency='pt.', units=4, nano=278000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 11, 58, 14, 979484, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936846362', date_time=datetime.datetime(2025, 2, 21, 11, 58, 14, 979484, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=278000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[])
[2025-02-21 14:58:19,200] [INFO] [get_data]. Price of last operation: 4.27800000
[2025-02-21 14:58:19,200] [INFO] [futures_quantity] 0
[2025-02-21 14:58:19,200] [INFO] [orders_prices] ()
[2025-02-21 15:21:59,283] [INFO] [rsi_subscriber]  Trying to BUY. quantity= 1.
[2025-02-21 15:21:59,782] [INFO] [events_orders] order d9f58c43-07ca-46ee-9aff-ccf8f4e5a9a3 HAPPENED!
[2025-02-21 15:21:59,782] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='131b6fae-fe3a-411f-a9d3-1019dd8edf7c', order_request_id='d9f58c43-07ca-46ee-9aff-ccf8f4e5a9a3', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=264000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=377, nano=410000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 15:21:59,818] [INFO] [events_orders] order d9f58c43-07ca-46ee-9aff-ccf8f4e5a9a3 HAPPENED!
[2025-02-21 15:21:59,819] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='131b6fae-fe3a-411f-a9d3-1019dd8edf7c', order_request_id='d9f58c43-07ca-46ee-9aff-ccf8f4e5a9a3', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=264000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=377, nano=410000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 15:21:59,896] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='d9f58c43-07ca-46ee-9aff-ccf8f4e5a9a3', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='131b6fae-fe3a-411f-a9d3-1019dd8edf7c')
[2025-02-21 15:22:03,492] [INFO] [get_data] Last operation Operation(id='2041006198937118721', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-376, nano=-260000000), price=MoneyValue(currency='pt.', units=4, nano=251000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 12, 21, 59, 759651, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936846973', date_time=datetime.datetime(2025, 2, 21, 12, 21, 59, 759651, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=251000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-90000000))])
[2025-02-21 15:22:03,492] [INFO] [get_data]. Price of last operation: 4.25100000
[2025-02-21 15:22:03,492] [INFO] [futures_quantity] 1
[2025-02-21 15:22:03,492] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=251000000),)
[2025-02-21 15:22:05,203] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='cc5da81c-255e-4811-a6a2-e0e83b30f99d', order_request_id='', response_metadata=ResponseMetadata(tracking_id='0164fa09475e5cad10d999028bf81e9c', server_time=datetime.datetime(2025, 2, 21, 12, 22, 5, 170781, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='54b4ba70-7ae3-4068-a3f5-2ecec1fb0584', order_request_id='', response_metadata=ResponseMetadata(tracking_id='7dfb910e23b34d9a49b62c8b7071519c', server_time=datetime.datetime(2025, 2, 21, 12, 22, 5, 123485, tzinfo=datetime.timezone.utc))))
[2025-02-21 15:33:00,375] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 15:33:00,375] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='54b4ba70-7ae3-4068-a3f5-2ecec1fb0584', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=225000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=373, nano=950000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 15:33:00,412] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 15:33:00,412] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='54b4ba70-7ae3-4068-a3f5-2ecec1fb0584', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=225000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=373, nano=950000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 15:33:04,382] [INFO] [get_data] Last operation Operation(id='2041006198937122681', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=375, nano=190000000), price=MoneyValue(currency='pt.', units=4, nano=239000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 12, 33, 0, 273268, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006198936847383', date_time=datetime.datetime(2025, 2, 21, 12, 33, 0, 273268, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=239000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-90000000))])
[2025-02-21 15:33:04,382] [INFO] [get_data]. Price of last operation: 4.23900000
[2025-02-21 15:33:04,383] [INFO] [futures_quantity] 0
[2025-02-21 15:33:04,383] [INFO] [orders_prices] ()
[2025-02-21 16:08:59,135] [INFO] [rsi_subscriber]  Trying to BUY. quantity= 1.
[2025-02-21 16:08:59,571] [INFO] [events_orders] order 6259d39d-ad9f-4c77-9da6-0c92d66289b0 HAPPENED!
[2025-02-21 16:08:59,571] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='95027f77-a317-4d4b-9c7c-c8d564770994', order_request_id='6259d39d-ad9f-4c77-9da6-0c92d66289b0', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=198000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=371, nano=560000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 16:08:59,622] [INFO] [events_orders] order 6259d39d-ad9f-4c77-9da6-0c92d66289b0 HAPPENED!
[2025-02-21 16:08:59,623] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='95027f77-a317-4d4b-9c7c-c8d564770994', order_request_id='6259d39d-ad9f-4c77-9da6-0c92d66289b0', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=198000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=371, nano=560000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 16:08:59,647] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='6259d39d-ad9f-4c77-9da6-0c92d66289b0', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='95027f77-a317-4d4b-9c7c-c8d564770994')
[2025-02-21 16:09:03,451] [INFO] [get_data] Last operation Operation(id='2041006198937146410', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-370, nano=-410000000), price=MoneyValue(currency='pt.', units=4, nano=185000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 13, 8, 59, 533196, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936848655', date_time=datetime.datetime(2025, 2, 21, 13, 8, 59, 533196, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=185000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[])
[2025-02-21 16:09:03,452] [INFO] [get_data]. Price of last operation: 4.18500000
[2025-02-21 16:09:03,452] [INFO] [futures_quantity] 1
[2025-02-21 16:09:03,452] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=185000000),)
[2025-02-21 16:09:04,955] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='856659b9-474c-4799-95b8-40072e793f73', order_request_id='', response_metadata=ResponseMetadata(tracking_id='adfbcb2b2f3e95b5a112f7f275709833', server_time=datetime.datetime(2025, 2, 21, 13, 9, 4, 928458, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='9e2d1de7-d8a5-4cdc-900d-284d7abee113', order_request_id='', response_metadata=ResponseMetadata(tracking_id='e3673f3c05172baa05f2ab31f898549d', server_time=datetime.datetime(2025, 2, 21, 13, 9, 4, 864247, tzinfo=datetime.timezone.utc))))
[2025-02-21 16:18:49,594] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 16:18:49,595] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='9e2d1de7-d8a5-4cdc-900d-284d7abee113', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=159000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=368, nano=110000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 16:18:49,616] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 16:18:49,617] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='9e2d1de7-d8a5-4cdc-900d-284d7abee113', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=159000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=368, nano=110000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 16:18:53,439] [INFO] [get_data] Last operation Operation(id='2041006198937155218', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=369, nano=260000000), price=MoneyValue(currency='pt.', units=4, nano=172000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 13, 18, 49, 509736, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006198936849114', date_time=datetime.datetime(2025, 2, 21, 13, 18, 49, 509736, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=172000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[])
[2025-02-21 16:18:53,440] [INFO] [get_data]. Price of last operation: 4.17200000
[2025-02-21 16:18:53,440] [INFO] [futures_quantity] 0
[2025-02-21 16:18:53,440] [INFO] [orders_prices] ()
[2025-02-21 16:22:00,079] [INFO] [rsi_subscriber]  Trying to BUY. quantity= 1.
[2025-02-21 16:22:00,576] [INFO] [events_orders] order 09645228-7180-4e34-bdde-7faf6da245a7 HAPPENED!
[2025-02-21 16:22:00,577] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='df350e14-622c-4762-b330-d2dad03a1086', order_request_id='09645228-7180-4e34-bdde-7faf6da245a7', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=164000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=368, nano=560000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 16:22:00,610] [INFO] [events_orders] order 09645228-7180-4e34-bdde-7faf6da245a7 HAPPENED!
[2025-02-21 16:22:00,610] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='df350e14-622c-4762-b330-d2dad03a1086', order_request_id='09645228-7180-4e34-bdde-7faf6da245a7', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=164000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=368, nano=560000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 16:22:00,705] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='09645228-7180-4e34-bdde-7faf6da245a7', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='df350e14-622c-4762-b330-d2dad03a1086')
[2025-02-21 16:22:04,255] [INFO] [get_data] Last operation Operation(id='2041006198937158630', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-367, nano=-410000000), price=MoneyValue(currency='pt.', units=4, nano=151000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 13, 22, 0, 567657, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936849489', date_time=datetime.datetime(2025, 2, 21, 13, 22, 0, 567657, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=151000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[])
[2025-02-21 16:22:04,255] [INFO] [get_data]. Price of last operation: 4.15100000
[2025-02-21 16:22:04,255] [INFO] [futures_quantity] 1
[2025-02-21 16:22:04,255] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=151000000),)
[2025-02-21 16:22:05,969] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='1e75f8be-7543-457b-bb58-4a484b5b3ab3', order_request_id='', response_metadata=ResponseMetadata(tracking_id='13df5f3f1eb8bb7e6c48622c4855dfbf', server_time=datetime.datetime(2025, 2, 21, 13, 22, 5, 906880, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='693c7b18-645e-4228-8dd5-4ba2a1183003', order_request_id='', response_metadata=ResponseMetadata(tracking_id='274ba9e6cb0694af18f41e1e6b22e705', server_time=datetime.datetime(2025, 2, 21, 13, 22, 5, 933570, tzinfo=datetime.timezone.utc))))
[2025-02-21 16:23:06,540] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 16:23:06,540] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='1e75f8be-7543-457b-bb58-4a484b5b3ab3', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=160000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=368, nano=200000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 16:23:06,584] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 16:23:06,584] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='1e75f8be-7543-457b-bb58-4a484b5b3ab3', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=160000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=368, nano=200000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 16:23:10,501] [INFO] [get_data] Last operation Operation(id='2041006198937160570', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=368, nano=470000000), price=MoneyValue(currency='pt.', units=4, nano=163000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 13, 23, 6, 510697, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006198936849597', date_time=datetime.datetime(2025, 2, 21, 13, 23, 6, 510697, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=163000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[])
[2025-02-21 16:23:10,502] [INFO] [get_data]. Price of last operation: 4.16300000
[2025-02-21 16:23:10,502] [INFO] [futures_quantity] 0
[2025-02-21 16:23:10,503] [INFO] [orders_prices] ()
[2025-02-21 17:19:27,336] [INFO] [rsi_subscriber]  Trying to SELL. quantity= 1.
[2025-02-21 17:19:27,879] [INFO] [events_orders] order c2c35e93-0c1e-4b5b-afaf-c5dbecfe00f2 HAPPENED!
[2025-02-21 17:19:27,880] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='f203fad1-bb4c-4e37-8d3f-de35a695debe', order_request_id='c2c35e93-0c1e-4b5b-afaf-c5dbecfe00f2', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=365000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=386, nano=350000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:19:27,920] [INFO] [events_orders] order c2c35e93-0c1e-4b5b-afaf-c5dbecfe00f2 HAPPENED!
[2025-02-21 17:19:27,920] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='f203fad1-bb4c-4e37-8d3f-de35a695debe', order_request_id='c2c35e93-0c1e-4b5b-afaf-c5dbecfe00f2', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=365000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=386, nano=350000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:19:28,008] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='c2c35e93-0c1e-4b5b-afaf-c5dbecfe00f2', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='f203fad1-bb4c-4e37-8d3f-de35a695debe')
[2025-02-21 17:19:31,578] [INFO] [get_data] Last operation Operation(id='2041006198937160570', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=368, nano=470000000), price=MoneyValue(currency='pt.', units=4, nano=163000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 13, 23, 6, 510697, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006198936849597', date_time=datetime.datetime(2025, 2, 21, 13, 23, 6, 510697, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=163000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-90000000))])
[2025-02-21 17:19:31,578] [INFO] [get_data]. Price of last operation: 4.16300000
[2025-02-21 17:19:31,578] [INFO] [futures_quantity] -1
[2025-02-21 17:19:31,578] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=163000000),)
[2025-02-21 17:19:33,494] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='dcf9b48f-5752-4d45-932d-568a0e0b79f5', order_request_id='', response_metadata=ResponseMetadata(tracking_id='567815e7fb3f976775478b116737bf83', server_time=datetime.datetime(2025, 2, 21, 14, 19, 33, 428220, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='4e412e97-1cd3-454a-98d9-2ab8134b0629', order_request_id='', response_metadata=ResponseMetadata(tracking_id='5720e712c1c5887afec3c5fa3fe2b4cb', server_time=datetime.datetime(2025, 2, 21, 14, 19, 33, 363912, tzinfo=datetime.timezone.utc))))
[2025-02-21 17:19:34,515] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 17:19:34,515] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='4e412e97-1cd3-454a-98d9-2ab8134b0629', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=189000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=370, nano=770000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:19:34,546] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 17:19:34,546] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='4e412e97-1cd3-454a-98d9-2ab8134b0629', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=189000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=370, nano=770000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:19:38,600] [INFO] [get_data] Last operation Operation(id='2041006198937247714', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-388, nano=-200000000), price=MoneyValue(currency='pt.', units=4, nano=386000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 14, 19, 34, 511182, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936853250', date_time=datetime.datetime(2025, 2, 21, 14, 19, 34, 511182, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=386000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 17:19:38,600] [INFO] [get_data]. Price of last operation: 4.38600000
[2025-02-21 17:19:38,600] [INFO] [futures_quantity] 0
[2025-02-21 17:19:38,600] [INFO] [orders_prices] ()
[2025-02-21 17:34:37,843] [INFO] [events_orders] order 4c62ad62-f5fa-487c-a77a-b26aa799f7cb HAPPENED!
[2025-02-21 17:34:37,846] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='2e10febe-5129-4182-92da-e69342092550', order_request_id='4c62ad62-f5fa-487c-a77a-b26aa799f7cb', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=288000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=379, nano=530000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:34:37,882] [INFO] [events_orders] order 4c62ad62-f5fa-487c-a77a-b26aa799f7cb HAPPENED!
[2025-02-21 17:34:37,882] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='2e10febe-5129-4182-92da-e69342092550', order_request_id='4c62ad62-f5fa-487c-a77a-b26aa799f7cb', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=288000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=379, nano=530000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:34:37,977] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='4c62ad62-f5fa-487c-a77a-b26aa799f7cb', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='2e10febe-5129-4182-92da-e69342092550')
[2025-02-21 17:34:41,528] [INFO] [get_data] Last operation Operation(id='2041006198937247714', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-388, nano=-200000000), price=MoneyValue(currency='pt.', units=4, nano=386000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 14, 19, 34, 511182, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936853250', date_time=datetime.datetime(2025, 2, 21, 14, 19, 34, 511182, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=386000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 17:34:41,529] [INFO] [get_data]. Price of last operation: 4.38600000
[2025-02-21 17:34:41,529] [INFO] [futures_quantity] -1
[2025-02-21 17:34:41,529] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=386000000),)
[2025-02-21 17:34:44,230] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='a181b958-b6f0-4c38-bd82-ef147b8279c2', order_request_id='', response_metadata=ResponseMetadata(tracking_id='207d80c270d8524710acb2b544ccffb3', server_time=datetime.datetime(2025, 2, 21, 14, 34, 44, 174364, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='2c7d61f9-35ef-4d49-a631-3a114b329409', order_request_id='', response_metadata=ResponseMetadata(tracking_id='807e1b7edfc844b9b8c2ec86c3e42fbf', server_time=datetime.datetime(2025, 2, 21, 14, 34, 44, 202212, tzinfo=datetime.timezone.utc))))
[2025-02-21 17:34:46,402] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 17:34:46,402] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='a181b958-b6f0-4c38-bd82-ef147b8279c2', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=303000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=380, nano=860000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:34:46,437] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 17:34:46,438] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='a181b958-b6f0-4c38-bd82-ef147b8279c2', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=303000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=380, nano=860000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:34:50,345] [INFO] [get_data] Last operation Operation(id='2041006198937291968', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-380, nano=-770000000), price=MoneyValue(currency='pt.', units=4, nano=302000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 14, 34, 46, 345498, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936855061', date_time=datetime.datetime(2025, 2, 21, 14, 34, 46, 345498, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=302000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 17:34:50,346] [INFO] [get_data]. Price of last operation: 4.30200000
[2025-02-21 17:34:50,346] [INFO] [futures_quantity] 0
[2025-02-21 17:34:50,346] [INFO] [orders_prices] ()
[2025-02-21 17:36:44,672] [INFO] [events_orders] order a88c2563-b44d-4cb8-8ff3-4c303232bae5 HAPPENED!
[2025-02-21 17:36:44,672] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='03ad4eec-b2e0-49d0-a6e5-3d6eddf4a24b', order_request_id='a88c2563-b44d-4cb8-8ff3-4c303232bae5', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=318000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=382, nano=190000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:36:44,703] [INFO] [events_orders] order a88c2563-b44d-4cb8-8ff3-4c303232bae5 HAPPENED!
[2025-02-21 17:36:44,703] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='03ad4eec-b2e0-49d0-a6e5-3d6eddf4a24b', order_request_id='a88c2563-b44d-4cb8-8ff3-4c303232bae5', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=318000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=382, nano=190000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:36:44,818] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='a88c2563-b44d-4cb8-8ff3-4c303232bae5', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='03ad4eec-b2e0-49d0-a6e5-3d6eddf4a24b')
[2025-02-21 17:36:48,283] [INFO] [get_data] Last operation Operation(id='2041006198937297363', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=383, nano=250000000), price=MoneyValue(currency='pt.', units=4, nano=330000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 14, 36, 44, 664220, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006198936855274', date_time=datetime.datetime(2025, 2, 21, 14, 36, 44, 664220, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=330000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 17:36:48,283] [INFO] [get_data]. Price of last operation: 4.33000000
[2025-02-21 17:36:48,283] [INFO] [futures_quantity] -1
[2025-02-21 17:36:48,283] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=330000000),)
[2025-02-21 17:36:50,095] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='d5772578-077e-4321-8051-d8b29d795870', order_request_id='', response_metadata=ResponseMetadata(tracking_id='a6d776e93e467964d24b056719c967cc', server_time=datetime.datetime(2025, 2, 21, 14, 36, 50, 19798, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='ef1ef9bf-a07e-4118-8c92-39215606bd63', order_request_id='', response_metadata=ResponseMetadata(tracking_id='96bc6430a87af1da02d3f9804eefbb70', server_time=datetime.datetime(2025, 2, 21, 14, 36, 50, 64612, tzinfo=datetime.timezone.utc))))
[2025-02-21 17:37:46,911] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 17:37:46,911] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='ef1ef9bf-a07e-4118-8c92-39215606bd63', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=357000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=385, nano=640000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:37:46,947] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 17:37:46,947] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='ef1ef9bf-a07e-4118-8c92-39215606bd63', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=357000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=385, nano=640000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:37:51,874] [INFO] [get_data] Last operation Operation(id='2041006198937299791', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-384, nano=-400000000), price=MoneyValue(currency='pt.', units=4, nano=343000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 14, 37, 46, 878521, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936855430', date_time=datetime.datetime(2025, 2, 21, 14, 37, 46, 878521, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=343000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 17:37:51,874] [INFO] [get_data]. Price of last operation: 4.34300000
[2025-02-21 17:37:51,874] [INFO] [futures_quantity] 0
[2025-02-21 17:37:51,874] [INFO] [orders_prices] ()
[2025-02-21 17:38:50,435] [INFO] [events_orders] order f4d513a1-56cb-4a61-a980-a2fc4c6e2a80 HAPPENED!
[2025-02-21 17:38:50,436] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='8971c52b-2a15-4971-afbf-50fa13aa5b89', order_request_id='f4d513a1-56cb-4a61-a980-a2fc4c6e2a80', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=340000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=384, nano=130000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:38:50,478] [INFO] [events_orders] order f4d513a1-56cb-4a61-a980-a2fc4c6e2a80 HAPPENED!
[2025-02-21 17:38:50,478] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='8971c52b-2a15-4971-afbf-50fa13aa5b89', order_request_id='f4d513a1-56cb-4a61-a980-a2fc4c6e2a80', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=340000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=384, nano=130000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:38:50,538] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='f4d513a1-56cb-4a61-a980-a2fc4c6e2a80', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='8971c52b-2a15-4971-afbf-50fa13aa5b89')
[2025-02-21 17:38:54,063] [INFO] [get_data] Last operation Operation(id='2041006198937302211', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=385, nano=370000000), price=MoneyValue(currency='pt.', units=4, nano=354000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 14, 38, 50, 436373, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006198936855562', date_time=datetime.datetime(2025, 2, 21, 14, 38, 50, 436373, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=354000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 17:38:54,063] [INFO] [get_data]. Price of last operation: 4.35400000
[2025-02-21 17:38:54,063] [INFO] [futures_quantity] -1
[2025-02-21 17:38:54,063] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=354000000),)
[2025-02-21 17:38:55,831] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='24bd238a-83c9-4073-993a-107d42706028', order_request_id='', response_metadata=ResponseMetadata(tracking_id='2de97a5d4dfbed367f225be1c218d3ff', server_time=datetime.datetime(2025, 2, 21, 14, 38, 55, 768205, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='fe5f4ff1-1520-42ca-a2f2-eab30e201b95', order_request_id='', response_metadata=ResponseMetadata(tracking_id='20c032839e9f5298f34888ea634d4a5f', server_time=datetime.datetime(2025, 2, 21, 14, 38, 55, 798552, tzinfo=datetime.timezone.utc))))
[2025-02-21 17:40:21,898] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 17:40:21,898] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='24bd238a-83c9-4073-993a-107d42706028', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=341000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=384, nano=220000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:40:21,936] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 17:40:21,936] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='24bd238a-83c9-4073-993a-107d42706028', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=341000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=384, nano=220000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:40:25,855] [INFO] [get_data] Last operation Operation(id='2041006198937302211', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=385, nano=370000000), price=MoneyValue(currency='pt.', units=4, nano=354000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 14, 38, 50, 436373, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006198936855562', date_time=datetime.datetime(2025, 2, 21, 14, 38, 50, 436373, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=354000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 17:40:25,855] [INFO] [get_data]. Price of last operation: 4.35400000
[2025-02-21 17:40:25,855] [INFO] [futures_quantity] 0
[2025-02-21 17:40:25,855] [INFO] [orders_prices] ()
[2025-02-21 17:40:56,272] [INFO] [events_orders] order fc7a9505-6d94-48ff-9355-0907a323e572 HAPPENED!
[2025-02-21 17:40:56,273] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='e8c64230-0b95-4679-9a8a-d47c46b308a2', order_request_id='fc7a9505-6d94-48ff-9355-0907a323e572', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=311000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=381, nano=570000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:40:56,302] [INFO] [events_orders] order fc7a9505-6d94-48ff-9355-0907a323e572 HAPPENED!
[2025-02-21 17:40:56,302] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='e8c64230-0b95-4679-9a8a-d47c46b308a2', order_request_id='fc7a9505-6d94-48ff-9355-0907a323e572', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=311000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=381, nano=570000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:40:56,402] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='fc7a9505-6d94-48ff-9355-0907a323e572', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='e8c64230-0b95-4679-9a8a-d47c46b308a2')
[2025-02-21 17:40:59,921] [INFO] [get_data] Last operation Operation(id='2041006198937306413', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=382, nano=720000000), price=MoneyValue(currency='pt.', units=4, nano=324000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 14, 40, 56, 262801, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006198936855697', date_time=datetime.datetime(2025, 2, 21, 14, 40, 56, 262801, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=324000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 17:40:59,921] [INFO] [get_data]. Price of last operation: 4.32400000
[2025-02-21 17:40:59,921] [INFO] [futures_quantity] -1
[2025-02-21 17:40:59,921] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=324000000),)
[2025-02-21 17:41:01,821] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='028445cf-e1db-45ec-bed9-31a2c639725a', order_request_id='', response_metadata=ResponseMetadata(tracking_id='547ca74081448c09bc66edcfad677fc7', server_time=datetime.datetime(2025, 2, 21, 14, 41, 1, 708038, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='4c90c8f7-23da-4956-93ad-3f73c5e7db42', order_request_id='', response_metadata=ResponseMetadata(tracking_id='e012319e3c13420426f90518e190ece0', server_time=datetime.datetime(2025, 2, 21, 14, 41, 1, 746407, tzinfo=datetime.timezone.utc))))
[2025-02-21 17:43:01,822] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,822] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,822] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,822] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,822] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,822] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,823] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,823] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,823] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,823] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,823] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,823] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,823] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,823] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,823] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,823] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,824] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,824] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,824] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,824] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,824] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,824] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,824] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,824] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,824] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,824] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,825] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,825] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,825] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,825] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,825] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,825] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,825] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,825] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,825] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,827] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,827] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,827] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,827] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,827] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,828] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,828] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,828] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,828] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,828] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,828] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,828] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,828] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,828] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,828] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,828] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,828] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,828] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,828] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,828] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,829] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:43:01,829] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 17:45:55,431] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 17:45:55,431] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='028445cf-e1db-45ec-bed9-31a2c639725a', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=307000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=381, nano=210000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:45:55,466] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 17:45:55,467] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='028445cf-e1db-45ec-bed9-31a2c639725a', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=307000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=381, nano=210000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 17:45:59,260] [INFO] [get_data] Last operation Operation(id='2041006198937312293', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-381, nano=-390000000), price=MoneyValue(currency='pt.', units=4, nano=309000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 14, 45, 55, 413472, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936855938', date_time=datetime.datetime(2025, 2, 21, 14, 45, 55, 413472, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=309000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 17:45:59,260] [INFO] [get_data]. Price of last operation: 4.30900000
[2025-02-21 17:45:59,260] [INFO] [futures_quantity] 0
[2025-02-21 17:45:59,260] [INFO] [orders_prices] ()
[2025-02-21 18:43:07,521] [INFO] [events_orders] order ee7a0e4d-2ec5-4e1a-ba5c-a1249f383783 HAPPENED!
[2025-02-21 18:43:07,523] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='7733af21-cde9-4617-88df-8ae5eef0f596', order_request_id='ee7a0e4d-2ec5-4e1a-ba5c-a1249f383783', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=360000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=385, nano=900000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 18:43:07,559] [INFO] [events_orders] order ee7a0e4d-2ec5-4e1a-ba5c-a1249f383783 HAPPENED!
[2025-02-21 18:43:07,560] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='7733af21-cde9-4617-88df-8ae5eef0f596', order_request_id='ee7a0e4d-2ec5-4e1a-ba5c-a1249f383783', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=360000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=385, nano=900000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 18:43:07,595] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='ee7a0e4d-2ec5-4e1a-ba5c-a1249f383783', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='7733af21-cde9-4617-88df-8ae5eef0f596')
[2025-02-21 18:43:11,499] [INFO] [get_data] Last operation Operation(id='2041006198937312293', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-381, nano=-390000000), price=MoneyValue(currency='pt.', units=4, nano=309000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 14, 45, 55, 413472, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936855938', date_time=datetime.datetime(2025, 2, 21, 14, 45, 55, 413472, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=309000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 18:43:11,499] [INFO] [get_data]. Price of last operation: 4.30900000
[2025-02-21 18:43:11,500] [INFO] [futures_quantity] -1
[2025-02-21 18:43:11,500] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=309000000),)
[2025-02-21 18:43:13,028] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='a62ca523-8e77-4439-8943-04544e6afabf', order_request_id='', response_metadata=ResponseMetadata(tracking_id='80789566d41655d6e7d06f10ba0c6d61', server_time=datetime.datetime(2025, 2, 21, 15, 43, 12, 896353, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='c50de8ab-7089-47dc-883a-a453d067a574', order_request_id='', response_metadata=ResponseMetadata(tracking_id='b468bc18b875b6bead1c02f647119200', server_time=datetime.datetime(2025, 2, 21, 15, 43, 12, 949220, tzinfo=datetime.timezone.utc))))
[2025-02-21 18:43:29,708] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 18:43:29,709] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='c50de8ab-7089-47dc-883a-a453d067a574', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=335000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=383, nano=690000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 18:43:29,760] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 18:43:29,760] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='c50de8ab-7089-47dc-883a-a453d067a574', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=335000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=383, nano=690000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 18:43:34,162] [INFO] [get_data] Last operation Operation(id='2041006198937393373', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-387, nano=-140000000), price=MoneyValue(currency='pt.', units=4, nano=374000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 15, 43, 29, 667691, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936858476', date_time=datetime.datetime(2025, 2, 21, 15, 43, 29, 667691, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=374000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[])
[2025-02-21 18:43:34,164] [INFO] [get_data]. Price of last operation: 4.37400000
[2025-02-21 18:43:34,165] [INFO] [futures_quantity] 0
[2025-02-21 18:43:34,165] [INFO] [orders_prices] ()
[2025-02-21 18:45:13,398] [INFO] [events_orders] order 2f3187ea-3bab-4dc3-a046-f27125a0c082 HAPPENED!
[2025-02-21 18:45:13,399] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='8bad34b5-956c-41ec-9372-9e7661eb18d3', order_request_id='2f3187ea-3bab-4dc3-a046-f27125a0c082', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=373000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=387, nano=50000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 18:45:13,434] [INFO] [events_orders] order 2f3187ea-3bab-4dc3-a046-f27125a0c082 HAPPENED!
[2025-02-21 18:45:13,435] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='8bad34b5-956c-41ec-9372-9e7661eb18d3', order_request_id='2f3187ea-3bab-4dc3-a046-f27125a0c082', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=373000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=387, nano=50000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 18:45:13,508] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='2f3187ea-3bab-4dc3-a046-f27125a0c082', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='8bad34b5-956c-41ec-9372-9e7661eb18d3')
[2025-02-21 18:45:17,695] [INFO] [get_data] Last operation Operation(id='2041006198937394610', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=388, nano=290000000), price=MoneyValue(currency='pt.', units=4, nano=387000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 15, 45, 13, 382250, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006198936858522', date_time=datetime.datetime(2025, 2, 21, 15, 45, 13, 382250, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=387000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 18:45:17,695] [INFO] [get_data]. Price of last operation: 4.38700000
[2025-02-21 18:45:17,696] [INFO] [futures_quantity] -1
[2025-02-21 18:45:17,697] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=387000000),)
[2025-02-21 18:45:18,871] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='886ef485-c1b9-4b47-a6a5-a63cc43519f8', order_request_id='', response_metadata=ResponseMetadata(tracking_id='9a56de8857fea5e335af90703d070b09', server_time=datetime.datetime(2025, 2, 21, 15, 45, 18, 824850, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='b8c100bc-7ac1-46d6-8465-777ceb9a808b', order_request_id='', response_metadata=ResponseMetadata(tracking_id='1c5883539ae4dfaa0dd63f9d9faff9a0', server_time=datetime.datetime(2025, 2, 21, 15, 45, 18, 781503, tzinfo=datetime.timezone.utc))))
[2025-02-21 18:47:18,877] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 18:47:18,877] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 18:47:18,877] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 18:47:18,878] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 18:47:18,878] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 18:47:18,878] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 18:47:18,878] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 18:47:18,878] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 18:47:18,878] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 18:47:18,878] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 18:47:18,878] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 18:47:18,879] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 18:47:18,879] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 18:47:18,879] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 18:47:18,879] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 18:47:18,879] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 18:47:18,879] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 18:47:18,880] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 18:48:42,719] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 18:48:42,720] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='b8c100bc-7ac1-46d6-8465-777ceb9a808b', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=415000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=390, nano=770000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 18:48:42,761] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 18:48:42,761] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='b8c100bc-7ac1-46d6-8465-777ceb9a808b', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=415000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=390, nano=770000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 18:48:47,102] [INFO] [get_data] Last operation Operation(id='2041006198937397766', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-390, nano=-150000000), price=MoneyValue(currency='pt.', units=4, nano=408000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 15, 48, 42, 663776, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936858620', date_time=datetime.datetime(2025, 2, 21, 15, 48, 42, 663776, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=408000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 18:48:47,102] [INFO] [get_data]. Price of last operation: 4.40800000
[2025-02-21 18:48:47,102] [INFO] [futures_quantity] 0
[2025-02-21 18:48:47,103] [INFO] [orders_prices] ()
[2025-02-21 19:13:39,397] [INFO] [start] It`s starting...
[2025-02-21 19:13:39,400] [INFO] -----------------------------
[2025-02-21 19:13:40,428] [INFO] [get_data] Last operation Operation(id='2041006198937397766', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-390, nano=-150000000), price=MoneyValue(currency='pt.', units=4, nano=408000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 15, 48, 42, 663776, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006198936858620', date_time=datetime.datetime(2025, 2, 21, 15, 48, 42, 663776, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=408000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 19:13:40,431] [INFO] [get_data]. Price of last operation: 4.40800000
[2025-02-21 19:13:40,432] [INFO] [futures_quantity] 0
[2025-02-21 19:13:40,432] [INFO] [orders_prices] ()
[2025-02-21 19:13:42,044] [INFO] [rsi_subscriber] RSI = nan
[2025-02-21 19:15:03,438] [INFO] [events_orders] order 30edd24d-916d-43b1-ad0d-1325294bcebf HAPPENED!
[2025-02-21 19:15:03,438] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='c4703043-ae4b-4347-a8db-ef4d424b1459', order_request_id='30edd24d-916d-43b1-ad0d-1325294bcebf', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=368000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=385, nano=130000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 19:15:03,534] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='30edd24d-916d-43b1-ad0d-1325294bcebf', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='c4703043-ae4b-4347-a8db-ef4d424b1459')
[2025-02-21 19:15:08,040] [INFO] [get_data] Last operation Operation(id='2041006203231810919', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=386, nano=360000000), price=MoneyValue(currency='pt.', units=4, nano=382000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 16, 15, 3, 398515, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006203231797617', date_time=datetime.datetime(2025, 2, 21, 16, 15, 3, 398515, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=382000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[])
[2025-02-21 19:15:08,040] [INFO] [get_data]. Price of last operation: 4.38200000
[2025-02-21 19:15:08,041] [INFO] [futures_quantity] -1
[2025-02-21 19:15:08,041] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=382000000),)
[2025-02-21 19:15:09,126] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='1d272ef5-251e-46a5-bc80-616627f10ef0', order_request_id='', response_metadata=ResponseMetadata(tracking_id='f1eb8b34eb9fc8c15833ad00b962f0d5', server_time=datetime.datetime(2025, 2, 21, 16, 15, 9, 20826, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='c966865f-953a-4726-87bb-5c692f4b6873', order_request_id='', response_metadata=ResponseMetadata(tracking_id='88e477e114fbf3cf2e46e332a473df5b', server_time=datetime.datetime(2025, 2, 21, 16, 15, 8, 981478, tzinfo=datetime.timezone.utc))))
[2025-02-21 19:17:09,127] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 19:17:09,127] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 19:17:09,127] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 19:17:09,128] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 19:17:09,128] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 19:17:09,128] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 19:18:23,258] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 19:18:23,259] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='1d272ef5-251e-46a5-bc80-616627f10ef0', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=366000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=384, nano=950000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 19:18:27,211] [INFO] [get_data] Last operation Operation(id='2041006203231816326', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-384, nano=-860000000), price=MoneyValue(currency='pt.', units=4, nano=365000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 16, 18, 23, 211629, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006203231797776', date_time=datetime.datetime(2025, 2, 21, 16, 18, 23, 211629, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=365000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 19:18:27,211] [INFO] [get_data]. Price of last operation: 4.36500000
[2025-02-21 19:18:27,212] [INFO] [futures_quantity] 0
[2025-02-21 19:18:27,212] [INFO] [orders_prices] ()
[2025-02-21 19:23:23,796] [INFO] [rsi_subscriber]  Trying to BUY. quantity= 1.
[2025-02-21 19:23:24,284] [INFO] [events_orders] order 71aa5505-a8aa-4c76-bc61-34baa792a5a9 HAPPENED!
[2025-02-21 19:23:24,284] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='3fe11f3d-40e7-4853-853f-5f65cc60a93b', order_request_id='71aa5505-a8aa-4c76-bc61-34baa792a5a9', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=349000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=383, nano=450000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 19:23:24,367] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='71aa5505-a8aa-4c76-bc61-34baa792a5a9', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='3fe11f3d-40e7-4853-853f-5f65cc60a93b')
[2025-02-21 19:23:27,955] [INFO] [get_data] Last operation Operation(id='2041006203231823702', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-382, nano=-220000000), price=MoneyValue(currency='pt.', units=4, nano=335000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 16, 23, 24, 234009, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006203231798051', date_time=datetime.datetime(2025, 2, 21, 16, 23, 24, 234009, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=335000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 19:23:27,956] [INFO] [get_data]. Price of last operation: 4.33500000
[2025-02-21 19:23:27,956] [INFO] [futures_quantity] 1
[2025-02-21 19:23:27,956] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=335000000),)
[2025-02-21 19:23:29,622] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='36e67939-c28d-406b-8588-ba510a18ca59', order_request_id='', response_metadata=ResponseMetadata(tracking_id='71f41cd360cf558a0b10b858c317f8ff', server_time=datetime.datetime(2025, 2, 21, 16, 23, 29, 545303, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='6a2759e2-3bc0-4ee3-811a-09225bcb8274', order_request_id='', response_metadata=ResponseMetadata(tracking_id='fc810e357dfcbc3c79f015051fdce7a0', server_time=datetime.datetime(2025, 2, 21, 16, 23, 29, 594097, tzinfo=datetime.timezone.utc))))
[2025-02-21 19:25:34,641] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 19:25:34,642] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='36e67939-c28d-406b-8588-ba510a18ca59', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=345000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=383, nano=100000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 19:25:38,296] [INFO] [get_data] Last operation Operation(id='2041006203231827226', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=383, nano=270000000), price=MoneyValue(currency='pt.', units=4, nano=347000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 16, 25, 34, 572819, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006203231798133', date_time=datetime.datetime(2025, 2, 21, 16, 25, 34, 572819, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=347000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-100000000))])
[2025-02-21 19:25:38,296] [INFO] [get_data]. Price of last operation: 4.34700000
[2025-02-21 19:25:38,297] [INFO] [futures_quantity] 0
[2025-02-21 19:25:38,297] [INFO] [orders_prices] ()
[2025-02-21 21:34:32,287] [ERROR] Error in stream processing: <class 'tinkoff.invest.exceptions.AioRequestError'> (<StatusCode.UNAVAILABLE: (14, 'unavailable')>, 'IOCP/Socket: Connection reset (An existing connection was forcibly closed by the remote host.\r\n -- 10054)', Metadata(tracking_id=None, ratelimit_limit='600, 600;w=60', ratelimit_remaining=598, ratelimit_reset=18, message=None))
[2025-02-21 21:34:32,288] [INFO] Will retry after 1 seconds...
[2025-02-21 21:34:33,560] [INFO] [rsi_subscriber] RSI = 48.75070597808669
[2025-02-21 21:34:33,739] [ERROR] Error in stream processing: <class 'tinkoff.invest.exceptions.AioRequestError'> (<StatusCode.UNAVAILABLE: (14, 'unavailable')>, 'DNS resolution failed for invest-public-api.tinkoff.ru: UNAVAILABLE: getaddrinfo: WSA Error (No such host is known.\r\n -- 11001)', None)
[2025-02-21 21:34:33,739] [INFO] Will retry after 2.4193208180247288 seconds...
[2025-02-21 21:34:36,197] [INFO] [rsi_subscriber] RSI = 48.75070597808669
[2025-02-21 21:34:36,204] [ERROR] Error in stream processing: <class 'tinkoff.invest.exceptions.AioRequestError'> (<StatusCode.UNAVAILABLE: (14, 'unavailable')>, 'DNS resolution failed for invest-public-api.tinkoff.ru: UNAVAILABLE: getaddrinfo: WSA Error (No such host is known.\r\n -- 11001)', None)
[2025-02-21 21:34:36,204] [INFO] Will retry after 5.684438450570168 seconds...
[2025-02-21 21:34:41,910] [INFO] [rsi_subscriber] RSI = 48.75070597808669
[2025-02-21 22:10:46,855] [INFO] [rsi_subscriber]  Trying to BUY. quantity= 1.
[2025-02-21 22:10:47,503] [INFO] [events_orders] order e11d228b-9155-4c74-bcf8-53a81df6111c HAPPENED!
[2025-02-21 22:10:47,506] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='56f55820-d330-4bff-9995-3c77385e6866', order_request_id='e11d228b-9155-4c74-bcf8-53a81df6111c', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=220000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=372, nano=80000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 22:10:47,523] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='e11d228b-9155-4c74-bcf8-53a81df6111c', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='56f55820-d330-4bff-9995-3c77385e6866')
[2025-02-21 22:10:51,156] [INFO] [get_data] Last operation Operation(id='2041006203232025934', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-371, nano=-280000000), price=MoneyValue(currency='pt.', units=4, nano=211000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 19, 10, 47, 271796, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006203231804372', date_time=datetime.datetime(2025, 2, 21, 19, 10, 47, 271796, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=211000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-90000000))])
[2025-02-21 22:10:51,158] [INFO] [get_data]. Price of last operation: 4.21100000
[2025-02-21 22:10:51,158] [INFO] [futures_quantity] 1
[2025-02-21 22:10:51,159] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=211000000),)
[2025-02-21 22:10:52,826] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='dad43916-cce9-4277-abf8-de9eb3031605', order_request_id='', response_metadata=ResponseMetadata(tracking_id='f4a81d178a1f5312bd8f2f75b2cb2af9', server_time=datetime.datetime(2025, 2, 21, 19, 10, 52, 716860, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='b564f756-2d49-4fce-a03b-11ca434e2bc2', order_request_id='', response_metadata=ResponseMetadata(tracking_id='217a5503e19be56297ea99aa63e31909', server_time=datetime.datetime(2025, 2, 21, 19, 10, 52, 688525, tzinfo=datetime.timezone.utc))))
[2025-02-21 22:11:56,936] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 22:11:56,937] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='dad43916-cce9-4277-abf8-de9eb3031605', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=222000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=372, nano=250000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 22:12:00,624] [INFO] [get_data] Last operation Operation(id='2041006203232028721', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=372, nano=80000000), price=MoneyValue(currency='pt.', units=4, nano=220000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 19, 11, 56, 834972, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006203231804427', date_time=datetime.datetime(2025, 2, 21, 19, 11, 56, 834972, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=220000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-90000000))])
[2025-02-21 22:12:00,624] [INFO] [get_data]. Price of last operation: 4.22000000
[2025-02-21 22:12:00,625] [INFO] [futures_quantity] 0
[2025-02-21 22:12:00,625] [INFO] [orders_prices] ()
[2025-02-21 23:40:07,638] [INFO] [events_orders] order dafe17dd-ad7a-42c9-98cf-d0d17e2c307d HAPPENED!
[2025-02-21 23:40:07,649] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='6698e7ae-3428-4e28-b46b-0448994a79db', order_request_id='dafe17dd-ad7a-42c9-98cf-d0d17e2c307d', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=246000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=374, nano=370000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 23:40:07,749] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='dafe17dd-ad7a-42c9-98cf-d0d17e2c307d', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='6698e7ae-3428-4e28-b46b-0448994a79db')
[2025-02-21 23:40:11,428] [INFO] [get_data] Last operation Operation(id='2041006203232028721', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=372, nano=80000000), price=MoneyValue(currency='pt.', units=4, nano=220000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 19, 11, 56, 834972, tzinfo=datetime.timezone.utc), type='Продажа ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_SELL: 22>, trades=[OperationTrade(trade_id='2041006203231804427', date_time=datetime.datetime(2025, 2, 21, 19, 11, 56, 834972, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=220000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-90000000))])
[2025-02-21 23:40:11,430] [INFO] [get_data]. Price of last operation: 4.22000000
[2025-02-21 23:40:11,431] [INFO] [futures_quantity] -1
[2025-02-21 23:40:11,431] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=220000000),)
[2025-02-21 23:40:13,000] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='12caf875-7629-4b05-9ec4-730a1789a999', order_request_id='', response_metadata=ResponseMetadata(tracking_id='7e98f301b98596b224913ce3084394e5', server_time=datetime.datetime(2025, 2, 21, 20, 40, 12, 978061, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='5c108021-1436-40ac-98c9-ac7e83207479', order_request_id='', response_metadata=ResponseMetadata(tracking_id='921c2ea572c7864207e84a96bc245927', server_time=datetime.datetime(2025, 2, 21, 20, 40, 12, 953792, tzinfo=datetime.timezone.utc))))
[2025-02-21 23:40:21,778] [INFO] [events_orders] order None HAPPENED!
[2025-02-21 23:40:21,778] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='5c108021-1436-40ac-98c9-ac7e83207479', order_request_id=None, client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_BUY: 1>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=246000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=374, nano=370000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 23:40:25,814] [INFO] [get_data] Last operation Operation(id='2041006203232080982', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-375, nano=-250000000), price=MoneyValue(currency='pt.', units=4, nano=256000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 20, 40, 21, 771611, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006203231806315', date_time=datetime.datetime(2025, 2, 21, 20, 40, 21, 771611, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=256000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-90000000))])
[2025-02-21 23:40:25,814] [INFO] [get_data]. Price of last operation: 4.25600000
[2025-02-21 23:40:25,814] [INFO] [futures_quantity] 0
[2025-02-21 23:40:25,814] [INFO] [orders_prices] ()
[2025-02-21 23:42:13,358] [INFO] [events_orders] order 773e7501-a17f-4a73-8bef-ce55a2918436 HAPPENED!
[2025-02-21 23:42:13,358] [INFO] [order state] OrderStateStreamResponse(order_state=OrderStateStreamOrderState(order_id='34252b75-26a9-4b00-9145-c2f7c8372295', order_request_id='773e7501-a17f-4a73-8bef-ce55a2918436', client_code='', created_at=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, status_info=<StatusCauseInfo.CAUSE_UNSPECIFIED: 0>, ticker='NRG5', class_code='SPBFUT', lot_size=1, direction=<OrderDirection.ORDER_DIRECTION_SELL: 2>, time_in_force=<TimeInForceType.TIME_IN_FORCE_DAY: 1>, order_type=<OrderType.ORDER_TYPE_MARKET: 2>, account_id='2222220063', initial_order_price=MoneyValue(currency='RUB', units=4, nano=239000000), order_price=MoneyValue(currency='RUB', units=0, nano=0), amount=MoneyValue(currency='RUB', units=373, nano=750000000), executed_order_price=MoneyValue(currency='RUB', units=0, nano=0), currency='RUB', lots_requested=1, lots_executed=0, lots_left=0, lots_cancelled=0, marker=<MarkerType.MARKER_UNKNOWN: 0>, trades=[], completion_time=datetime.datetime(1970, 1, 1, 0, 0, tzinfo=datetime.timezone.utc), exchange='MOEX', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4'), ping=None, subscription=None)
[2025-02-21 23:42:13,432] [INFO] [o_p_w_s] PostOrderAsyncResponse(order_request_id='773e7501-a17f-4a73-8bef-ce55a2918436', execution_report_status=<OrderExecutionReportStatus.EXECUTION_REPORT_STATUS_NEW: 4>, trade_intent_id='34252b75-26a9-4b00-9145-c2f7c8372295')
[2025-02-21 23:42:16,994] [INFO] [get_data] Last operation Operation(id='2041006203232080982', parent_operation_id='', currency='rub', payment=MoneyValue(currency='rub', units=-375, nano=-250000000), price=MoneyValue(currency='pt.', units=4, nano=256000000), state=<OperationState.OPERATION_STATE_EXECUTED: 1>, quantity=1, quantity_rest=0, figi='FUTNGM022500', instrument_type='futures', date=datetime.datetime(2025, 2, 21, 20, 40, 21, 771611, tzinfo=datetime.timezone.utc), type='Покупка ценных бумаг', operation_type=<OperationType.OPERATION_TYPE_BUY: 15>, trades=[OperationTrade(trade_id='2041006203231806315', date_time=datetime.datetime(2025, 2, 21, 20, 40, 21, 771611, tzinfo=datetime.timezone.utc), quantity=1, price=MoneyValue(currency='rub', units=4, nano=256000000))], asset_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', position_uid='1fa4b56d-4a86-4b2f-8127-c4d0e3a47a63', instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', child_operations=[ChildOperationItem(instrument_uid='afbc7c40-fe28-465b-80ee-2f047bd691e4', payment=MoneyValue(currency='rub', units=0, nano=-90000000))])
[2025-02-21 23:42:16,994] [INFO] [get_data]. Price of last operation: 4.25600000
[2025-02-21 23:42:16,994] [INFO] [futures_quantity] -1
[2025-02-21 23:42:16,994] [INFO] [orders_prices] (MoneyValue(currency='pt.', units=4, nano=256000000),)
[2025-02-21 23:42:18,629] [INFO] [o_p_w_s] stop_orders are applied.
 (PostStopOrderResponse(stop_order_id='cb54a480-9b27-42ee-8a07-b29763b3a656', order_request_id='', response_metadata=ResponseMetadata(tracking_id='cfb3bb7116e185d36e12293288e24717', server_time=datetime.datetime(2025, 2, 21, 20, 42, 18, 608440, tzinfo=datetime.timezone.utc))), PostStopOrderResponse(stop_order_id='fadcc68b-2aff-4b20-bf5b-044c7110b866', order_request_id='', response_metadata=ResponseMetadata(tracking_id='2ebdb89771763d36ca935febacab6bf7', server_time=datetime.datetime(2025, 2, 21, 20, 42, 18, 586257, tzinfo=datetime.timezone.utc))))
[2025-02-21 23:44:18,627] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 23:44:18,628] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 23:44:18,628] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 23:44:18,628] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 23:44:18,628] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 23:44:18,628] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 23:44:18,629] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 23:44:18,629] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 23:44:18,629] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 23:44:18,629] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 23:44:18,629] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 23:44:18,629] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 23:44:18,629] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 23:44:18,629] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 23:44:18,630] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 23:44:18,630] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 23:44:18,630] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 23:44:18,630] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
[2025-02-21 23:44:18,630] [INFO] [o_p_w_s] The deal cannot commit. quantity = 0
